10 CLS
20 REM PLAYER START
30 LET X = 3
40 LET Y = 3
50 REM READ MAP
60 LET W = 10
70 LET H = 10
80 DIM M(H, W)
90 FOR R = 1 TO H
100 FOR C = 1 TO W
110 READ M(R, C)
120 NEXT
130 NEXT
140 REM GAME LOOP
145 CLS
150 LET U = X
160 LET V = Y
170 GOSUB 440
180 REM GET DIRECTION
185 PRINT
190 PRINT "DIRECTION (N,S,E,W OR Q TO EXIT) >";
200 INPUT D$
210 IF D$ = "N" OR D$ = "n" THEN 280
220 IF D$ = "S" OR D$ = "s" THEN 310
230 IF D$ = "W" OR D$ = "w" THEN 340
240 IF D$ = "E" OR D$ = "e" THEN 370
250 IF D$ = "Q" OR D$ = "q" THEN 730
260 IF M(V, U) = 0 THEN 400
270 GOTO 140
280 REM MOVE UP
290 V = V - 1
300 GOTO 260
310 REM MOVE DOWN
320 V = V + 1
330 GOTO 260
340 REM MOVE LEFT
350 U = U - 1
360 GOTO 260
370 REM MOVE RIGHT
380 U = U + 1
390 GOTO 260
400 REM SET X AND Y
410 Y = V
420 X = U
430 GOTO 140
440 REM PRINT MAP
450 FOR R = 1 TO H
460 FOR C = 1 TO W
470 IF R = Y AND C = X THEN 590
480 IF M(R, C) = 1 THEN 530
490 IF M(R, C) = 0 THEN 560
500 NEXT
505 PRINT
510 NEXT
520 RETURN
530 REM PRINT WALL
540 PRINT "#";
550 GOTO 500
560 REM PRINT FLOOR
570 PRINT " ";
580 GOTO 500
590 REM PRINT PLAYER
600 PRINT "@";
610 GOTO 500
620 REM MAP DATA
630 DATA 1,1,1,1,0,0,1,1,1,1
640 DATA 1,0,0,1,1,1,1,0,0,1
650 DATA 1,0,0,0,0,0,0,0,0,1
660 DATA 1,1,0,0,0,0,0,0,1,1
670 DATA 0,1,0,0,0,0,0,0,1,0
680 DATA 0,1,0,0,0,0,0,0,1,0
690 DATA 1,1,0,0,0,0,0,0,1,1
700 DATA 1,0,0,0,0,0,0,0,0,1
710 DATA 1,0,0,1,1,1,1,0,0,1
720 DATA 1,1,1,1,0,0,1,1,1,1
730 END